
@{
    ViewData["Title"] = "Find Singers";
}

<h3 style="color:green;text-align:center;">@ViewData["Title"]</h3>

@section Scripts
{
	<script type="text/javascript">
	    $( document ).ready(function() { 
            $('.findTable form input, .findTable select').attr('disabled', true);
            $('input[name="search_type"]:radio').change(function(){
                $('.findTable form input, .findTable select').attr('disabled', true);
                $(this).parent().find('form').find('input, select').attr('disabled', false);
                $(this).parent().find('form input, form select').first().focus();
            });
               
            $('input[name="search_type"]:radio').first().prop('checked',true);
            $('input[name="search_type"]:radio').first().trigger('change');
            
            $('form').keydown(function(e) {
                if (e.keyCode === 13) {
                    toSubmit("Submit");
                }
            });

	    });
            
	    function toSubmit(type) {
            var $checkRadio =  $('input[name="search_type"]:checked');
            if ($checkRadio.val() === undefined){
                if (type.toUpperCase()==="CANCEL") {
                    $checkRadio = $('input[name="search_type"]:first');
                }
            }
            // $checkRadio.parent().find('form').attr("action","Find");
            $checkRadio.parent().find('form').append("<input type='hidden' name='search_type' value='"+$checkRadio.val()+"'>");
            $checkRadio.parent().find('form').append("<input type='hidden' name='submitbutton' value='"+type+ "'>");
            $checkRadio.parent().find('form').append('<input type="hidden" name="singer_state", value="@ViewBag.SingerState" />');
            $checkRadio.parent().find('form').submit();
	    }
	</script>
}
	
<style>
    body
	{
        font-family:"New Roman";
        background-color:#d0e4fe;
    }
    table {
        width:100%;
        border-collapse: collapse;
    }
    table.findTable {
        font-size:16px;
        border: 2px solid #000000;
        margin-left: auto;margin-right: auto;
    }
    td,th {
        padding-left: 10px;padding-top: 5px;padding-right: 10px;padding-bottom: 5px;
        border: 1px solid #000000;
    }
    .findTable label {
        display: inline-block;
        font-weight: lighter;
        color:black;
    }
    .findTable label.radio {
        font-weight: bold;
        color:black;
    }
    .findTable select {
    }
    input {
        font-size:20px;
    }
    button {
        font-weight:bold;
        font-size:20px;width:200px;
        text-align:center;
        color:darkred;background-color: lightgrey;
    }
</style>      
	        
<table class="findTable">
    <tr>
        <td>            
            <input type="radio" name="search_type" value='singer_no'/>
            <label class="radio">Singer No.</label>
            <form asp-area="" asp-controller="Singer" asp-action="Find" method="POST" data-search='sing_no'>
                <label>Singer No.:
                    <input name="sing_no" type="text" maxlength="2" style='width:120px;' value=""/>
                </label>
            </form>
        </td>
    </tr>
    <tr>
        <td>
            <input type="radio" name="search_type" value='singer_na'/>
            <label class="radio">Singer Name</label>
            <form asp-area="" asp-controller="Singer" asp-action="Find" method="POST" data-search='sing_na'>
                <label>Singer Name:
                    <input name="sing_na" type="text" maxlength="32" style='width:320px;' value=""/>
                </label>
            </form>                   
        </td>
    </tr>        
</table>

<br />
    
<div style='margin:auto;text-align:center'>
    <button type="submit" onclick='toSubmit("Submit")'>Submit</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    <button type='submit' onclick='toSubmit("Cancel")'>Cancel</button>
</div>
